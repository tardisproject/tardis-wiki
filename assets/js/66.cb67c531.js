(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{437:function(a,e,s){"use strict";s.r(e);var t=s(46),n=Object(t.a)({},(function(){var a=this,e=a.$createElement,s=a._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("p",[a._v("Tardis quite likes LDAP - as opposed to it's admins, which are less than\nfond of freaky pam gubbins.")]),a._v(" "),s("p",[a._v("{{")]),a._v(" "),s("p",[s("code",[a._v("InfoBox")]),a._v(" "),s("code",[a._v("|text= See")]),s("a",{attrs:{href:"Browse_LDAP",title:"wikilink"}},[s("code",[a._v("Browse`` ``LDAP")])]),s("code",[a._v("for a tutorial on browsing LDAP.")]),a._v(" "),s("code",[a._v("|colour=#0f0")])]),a._v(" "),s("p",[a._v("}}")]),a._v(" "),s("h2",{attrs:{id:"miscellaneous-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#miscellaneous-commands"}},[a._v("#")]),a._v(" Miscellaneous Commands")]),a._v(" "),s("p",[a._v("To add someone to a group in LDAP:")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("bung@gallifrey:/$ ldapvi -D 'cn=admin,dc=tardis,dc=ed,dc=ac,dc=uk' -b 'ou=Group,dc=tardis,dc=ed,dc=ac,dc=uk' '(cn=admin)'\n")])])]),s("p",[a._v("(Ask me about the password. --"),s("a",{attrs:{href:"User:Bung",title:"wikilink"}},[a._v("Bung")]),a._v(" 15:05, 3\nJanuary 2006 (GMT))")]),a._v(" "),s("p",[a._v("Add the new entry appropriately, e.g.")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("memberUid: bob\n")])])]),s("p",[a._v("Quit the editor, say 'y' to the prompt, and you've volunteered a whole\nnew era of Tardis adminning!")]),a._v(" "),s("p",[a._v("In the case of admin, you'll want to change their default group from\nstudent to assistant:")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("bung@gallifrey:/$ ldapvi -D 'cn=admin,dc=tardis,dc=ed,dc=ac,dc=uk' -b '(uid=bob)'\n")])])]),s("p",[a._v("And change")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("gidNumber: 1005\n")])])]),s("p",[a._v("to")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("gidNumber: 1001\n")])])]),s("p",[a._v("To search for a specific user in LDAP (this seemed to work):")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("ldapsearch -D 'cn=admin,dc=tardis,dc=ed,dc=ac,dc=uk' -b 'dc=tardis,dc=ed,dc=ac,dc=uk' -W \"(uid=username)\"\n")])])]),s("p",[a._v("(You can also ask me for the LDAP password\n--"),s("a",{attrs:{href:"User:Hayden",title:"wikilink"}},[a._v("Hayden")]),a._v(" ("),s("a",{attrs:{href:"User_talk:Hayden",title:"wikilink"}},[a._v("talk")]),a._v(")\n22:08, 12 October 2013 (BST))")]),a._v(" "),s("p",[a._v("On some hosts (usually gateways like fez), nscd caches the shit out of\nLDAP, much to admin annoyance. Clear the cache as so:")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[a._v("nscd -i group\nnscd -i passwd\n")])])]),s("p",[a._v("This will clear nscd's Group and Shadow databases, forcing them to be\nre-read from LDAP.")]),a._v(" "),s("p",[s("a",{attrs:{href:"Category:Services",title:"wikilink"}},[a._v("Category:Services")])])])}),[],!1,null,null,null);e.default=n.exports}}]);