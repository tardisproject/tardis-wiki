(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{532:function(e,t,i){"use strict";i.r(t);var r=i(46),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("p",[e._v("Tardis has a a "),i("a",{attrs:{href:"Special:Version",title:"wikilink"}},[e._v("MediaWiki")]),e._v(" hosting facility.")]),e._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"MediaWiki_Installation",title:"wikilink"}},[e._v("Installation Doc")])])]),e._v(" "),i("p",[e._v("Speak to seth for information.")]),e._v(" "),i("h2",{attrs:{id:"mediawiki-user-accounts"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#mediawiki-user-accounts"}},[e._v("#")]),e._v(" MediaWiki User Accounts")]),e._v(" "),i("h3",{attrs:{id:"adding-accounts"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#adding-accounts"}},[e._v("#")]),e._v(" Adding accounts")]),e._v(" "),i("p",[e._v("Thom can create new accounts.")]),e._v(" "),i("h3",{attrs:{id:"some-notes-for-future-reference"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#some-notes-for-future-reference"}},[e._v("#")]),e._v(" Some notes for future reference")]),e._v(" "),i("p",[e._v("From...\n"),i("a",{attrs:{href:"http://people.planetpostgresql.org/greg/index.php?/archives/74-Reset-a-user-password-on-MediaWiki.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("1"),i("OutboundLink")],1),e._v(".\nSee also "),i("a",{attrs:{href:"http://meta.wikimedia.org/wiki/Help:User_rights",target:"_blank",rel:"noopener noreferrer"}},[e._v("2"),i("OutboundLink")],1),e._v(". Log into\nwww.reaper as root, then:")]),e._v(" "),i("p",[i("code",[e._v("www:~# mysql -h db.reaper -u tardiswiki -p")]),e._v(" "),i("code",[e._v("Enter password:")]),e._v(" "),i("code",[e._v("Welcome to the MySQL monitor.  Commands end with ; or \\g.")]),e._v(" "),i("code",[e._v("Your MySQL connection id is 4057 to server version: 4.0.24")]),e._v(" "),i("code",[e._v("Type 'help;' or '\\h' for help. Type '\\c' to clear the buffer.")]),e._v(" "),i("code",[e._v("mysql> insert into tw_user (user_name,user_real_name) values ('TestUser','Test User');")]),e._v(" "),i("code",[e._v("Query OK, 1 row affected (0.03 sec)")]),e._v(" "),i("code",[e._v("mysql> UPDATE tw_user SET user_password = md5( concat('25-',md5('somepassword'))) WHERE user_name='TestUser';")])]),e._v(" "),i("p",[e._v("Where we really want the concat() call to be something like")]),e._v(" "),i("p",[i("code",[e._v("concat((SELECT user_id FROM tw_user WHERE user_name='TestUser'),'-',md5('somepassword'))")])]),e._v(" "),i("p",[e._v("... Need to fix this and script this for a tardis-add-wikiuser script\nthat users can run themselves to add their user or update password. Prod\npeople for the tardiswiki password.")]),e._v(" "),i("h2",{attrs:{id:"wiki-service-2-0"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#wiki-service-2-0"}},[e._v("#")]),e._v(" Wiki Service 2.0")]),e._v(" "),i("p",[i("a",{attrs:{href:"User:dcoles",title:"wikilink"}},[e._v("User:dcoles")]),e._v(" is working on a more unified Wiki\nhosting. Ideally we want to make it fairly easy to get a basic Wiki set\nup in such a way that doesn't require fluffing around with DNS,\ndownloading a copy of MediaWiki and then setting up a new vhost for\neach.")]),e._v(" "),i("ul",[i("li",[e._v("All the Wikis will be created by simlinks from the master MediaWiki\ndpkg installation at "),i("code",[e._v("/usr/share/mediawiki/")]),e._v(". This means all\ninstances should remain up-to-date with the current Debian package.\nIf needs be these can then be overidden simply by replacing the\nrelevant file.")]),e._v(" "),i("li",[e._v("All the Wikis will be accessed via *.wiki.tardis.ed.ac.uk. This\nmeans that you won't need to create any new DNS entries.")]),e._v(" "),i("li",[e._v("All the Wikis will share a single directory structure and Apache\nconfiguration. No need to create vhosts for each Wiki.")])]),e._v(" "),i("p",[e._v("The rough guide to setting up a Wiki (ideally there should be a small\nshell script here) is:")]),e._v(" "),i("ol",[i("li",[i("code",[e._v("$ mkdir -p /tardis/www/wikiservice/$WIKINAME/pages")])]),e._v(" "),i("li",[i("code",[e._v("$ ln -s /usr/share/mediawiki/* /tardis/www/wikiservice/$WIKINAME/pages/")])]),e._v(" "),i("li",[i("code",[e._v("$ rm /tardis/www/wikiservice/$WIKINAME/pages/LocalSettings.php")])]),e._v(" "),i("li",[e._v("-- Fix permissions?")])]),e._v(" "),i("p",[e._v("You should now be able to run the normal MediWiki setup by browsing to\n"),i("a",{attrs:{href:"http://$WIKINAME.wiki.tardis.ed.ac.uk",target:"_blank",rel:"noopener noreferrer"}},[e._v("http://$WIKINAME.wiki.tardis.ed.ac.uk"),i("OutboundLink")],1)]),e._v(" "),i("p",[i("a",{attrs:{href:"category:Services",title:"wikilink"}},[e._v("category:Services")])])])}),[],!1,null,null,null);t.default=s.exports}}]);